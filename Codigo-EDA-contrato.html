<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Jur√≠dico de Contratos Internacionales</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        body {
            font-family: Arial, sans-serif;
            background-color: #F5F3EF;
        }
        
        .institutional-blue { color: #002B5B; }
        .institutional-blue-bg { background-color: #002B5B; }
        .soft-gold { color: #F4C95D; }
        .soft-gold-bg { background-color: #F4C95D; }
        
        .phase-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .phase-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 43, 91, 0.15);
            border-color: #F4C95D;
        }
        
        .progress-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .progress-circle.completed {
            background-color: #F4C95D;
            color: #002B5B;
        }
        
        .progress-circle.pending {
            background-color: #E5E7EB;
            color: #9CA3AF;
        }
        
        .btn-primary {
            background-color: #002B5B;
            color: white;
            padding: 16px 32px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            background-color: #003875;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 43, 91, 0.3);
        }
        
        .btn-secondary {
            background-color: #F4C95D;
            color: #002B5B;
            padding: 16px 32px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background-color: #F2C043;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(244, 201, 93, 0.4);
        }
        
        .screen {
            display: none;
            min-height: 100vh;
        }
        
        .screen.active {
            display: block;
        }
        
        .golden-line {
            height: 3px;
            background-color: #F4C95D;
            width: 100%;
        }
    </style>
</head>
<body>
    <!-- Pantalla 1: Bienvenida -->
    <div id="screen1" class="screen active">
        <!-- Banner Superior -->
        <div class="institutional-blue-bg text-white py-6">
            <div class="container mx-auto px-4 text-center">
                <div class="flex items-center justify-center mb-4">
                    <svg class="w-12 h-12 soft-gold" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2M12 6.5L11.5 8.5L9.5 9L11.5 9.5L12 11.5L12.5 9.5L14.5 9L12.5 8.5L12 6.5Z"/>
                        <path d="M19 15L20.25 18.75L24 20L20.25 21.25L19 25L17.75 21.25L14 20L17.75 18.75L19 15Z"/>
                        <path d="M5 15L6.25 18.75L10 20L6.25 21.25L5 25L3.75 21.25L0 20L3.75 18.75L5 15Z"/>
                    </svg>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold">SIMULADOR JUR√çDICO DE CONTRATOS INTERNACIONALES</h1>
            </div>
        </div>
        <div class="golden-line"></div>
        
        <!-- Contenido Principal -->
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold institutional-blue text-center mb-4">
                    Simulador de Contrato Internacional con IA
                </h2>
                <h3 class="text-xl institutional-blue text-center mb-8">
                    Bienvenido, Gerente de Exportaciones
                </h3>
                
                <div class="bg-white rounded-lg p-6 mb-8 shadow-lg">
                    <p class="text-gray-700 leading-relaxed text-lg">
                        Bienvenido a esta experiencia educativa interactiva. Aqu√≠ asumir√°s el rol de gerente de exportaciones de una empresa internacional y enfrentar√°s el reto de negociar, redactar y perfeccionar un contrato de compraventa internacional. Utilizar√°s herramientas de inteligencia artificial, analizar√°s documentos legales y recibir√°s retroalimentaci√≥n profesional simulada.
                    </p>
                </div>
                
                <!-- Fases del Simulador -->
                <div class="space-y-4 mb-8">
                    <div class="bg-white rounded-lg p-4 shadow-md flex items-center space-x-4">
                        <div class="text-3xl">üìÑ</div>
                        <div>
                            <h4 class="font-bold institutional-blue">Fase 1: Generaci√≥n del contrato</h4>
                            <p class="text-gray-600">Redacta un contrato utilizando IA seg√∫n escenario espec√≠fico</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 shadow-md flex items-center space-x-4">
                        <div class="text-3xl">üîç</div>
                        <div>
                            <h4 class="font-bold institutional-blue">Fase 2: An√°lisis cr√≠tico</h4>
                            <p class="text-gray-600">Identifica errores y eval√∫a la precisi√≥n del contrato</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 shadow-md flex items-center space-x-4">
                        <div class="text-3xl">‚öñÔ∏è</div>
                        <div>
                            <h4 class="font-bold institutional-blue">Fase 3: Comparaci√≥n con modelo ITC</h4>
                            <p class="text-gray-600">Compara con el modelo oficial y detecta limitaciones</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 shadow-md flex items-center space-x-4">
                        <div class="text-3xl">üõ†Ô∏è</div>
                        <div>
                            <h4 class="font-bold institutional-blue">Fase 3.5: Ajuste del contrato</h4>
                            <p class="text-gray-600">Realiza correcciones y mejoras al contrato</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg p-4 shadow-md flex items-center space-x-4">
                        <div class="text-3xl">üë®‚Äç‚öñÔ∏è</div>
                        <div>
                            <h4 class="font-bold institutional-blue">Fase 4: Evaluaci√≥n con asesor virtual</h4>
                            <p class="text-gray-600">Recibe retroalimentaci√≥n profesional simulada</p>
                        </div>
                    </div>
                </div>
                
                <!-- Bot√≥n Principal -->
                <div class="text-center">
                    <button onclick="showScreen(2)" class="btn-primary text-xl">
                        Comenzar
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Pantalla 2: Men√∫ de Fases -->
    <div id="screen2" class="screen">
        <!-- Banner Superior -->
        <div class="institutional-blue-bg text-white py-6">
            <div class="container mx-auto px-4 text-center">
                <div class="flex items-center justify-center mb-4">
                    <svg class="w-12 h-12 soft-gold" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2M12 6.5L11.5 8.5L9.5 9L11.5 9.5L12 11.5L12.5 9.5L14.5 9L12.5 8.5L12 6.5Z"/>
                        <path d="M19 15L20.25 18.75L24 20L20.25 21.25L19 25L17.75 21.25L14 20L17.75 18.75L19 15Z"/>
                        <path d="M5 15L6.25 18.75L10 20L6.25 21.25L5 25L3.75 21.25L0 20L3.75 18.75L5 15Z"/>
                    </svg>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold">SIMULADOR JUR√çDICO DE CONTRATOS INTERNACIONALES</h1>
            </div>
        </div>
        <div class="golden-line"></div>
        
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-6xl mx-auto">
                <!-- Bot√≥n Home -->
                <div class="mb-6">
                    <button onclick="showScreen(1)" class="flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"/>
                        </svg>
                        <span>Inicio</span>
                    </button>
                </div>
                
                <h2 class="text-3xl font-bold institutional-blue text-center mb-8">
                    Fases del Simulador Legal Internacional
                </h2>
                
                <!-- Barra de Progreso -->
                <div class="flex justify-center items-center mb-8 space-x-4">
                    <div class="text-center">
                        <div class="progress-circle pending" id="progress1">F1</div>
                        <p class="text-sm mt-2 text-gray-600">Generaci√≥n</p>
                    </div>
                    <div class="w-8 h-1 bg-gray-300"></div>
                    <div class="text-center">
                        <div class="progress-circle pending" id="progress2">F2</div>
                        <p class="text-sm mt-2 text-gray-600">An√°lisis</p>
                    </div>
                    <div class="w-8 h-1 bg-gray-300"></div>
                    <div class="text-center">
                        <div class="progress-circle pending" id="progress3">F3</div>
                        <p class="text-sm mt-2 text-gray-600">Comparaci√≥n</p>
                    </div>
                    <div class="w-8 h-1 bg-gray-300"></div>
                    <div class="text-center">
                        <div class="progress-circle pending" id="progress35">F3.5</div>
                        <p class="text-sm mt-2 text-gray-600">Ajuste</p>
                    </div>
                    <div class="w-8 h-1 bg-gray-300"></div>
                    <div class="text-center">
                        <div class="progress-circle pending" id="progress4">F4</div>
                        <p class="text-sm mt-2 text-gray-600">Evaluaci√≥n</p>
                    </div>
                </div>
                
                <!-- Cuadr√≠cula de Tarjetas -->
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div id="phase1Card" class="phase-card bg-white rounded-lg p-6 shadow-lg cursor-pointer relative" onclick="goToPhase(1)">
                        <div id="phase1Check" class="absolute top-4 right-4 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold hidden">‚úì</div>
                        <div class="text-center mb-4">
                            <svg class="w-16 h-16 mx-auto institutional-blue" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold institutional-blue text-center mb-3">Fase 1: Generaci√≥n del contrato</h3>
                        <p class="text-gray-700 text-center">Redacta un contrato de compraventa internacional utilizando IA, seg√∫n un escenario espec√≠fico.</p>
                    </div>
                    
                    <div id="phase2Card" class="phase-card bg-white rounded-lg p-6 shadow-lg cursor-pointer relative opacity-50 pointer-events-none" onclick="goToPhase(2)">
                        <div id="phase2Check" class="absolute top-4 right-4 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold hidden">‚úì</div>
                        <div class="text-center mb-4">
                            <svg class="w-16 h-16 mx-auto institutional-blue" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M6.5,2C7.33,2 8,2.67 8,3.5V5H16V3.5C16,2.67 16.67,2 17.5,2C18.33,2 19,2.67 19,3.5V5C20.11,5 21,5.9 21,7V10.81C20.42,10.3 19.75,9.91 19,9.65V7H5V19H9.09C9.21,19.72 9.46,20.39 9.81,21H5C3.9,21 3,20.11 3,19V7C3,5.9 3.9,5 5,5V3.5C5,2.67 5.67,2 6.5,2Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold institutional-blue text-center mb-3">Fase 2: An√°lisis cr√≠tico</h3>
                        <p class="text-gray-700 text-center">Identifica errores, omisiones y eval√∫a la precisi√≥n del contrato generado.</p>
                    </div>
                    
                    <div id="phase3Card" class="phase-card bg-white rounded-lg p-6 shadow-lg cursor-pointer relative opacity-50 pointer-events-none" onclick="goToPhase(3)">
                        <div id="phase3Check" class="absolute top-4 right-4 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold hidden">‚úì</div>
                        <div class="text-center mb-4">
                            <svg class="w-16 h-16 mx-auto institutional-blue" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A2.5,2.5 0 0,0 5,15.5A2.5,2.5 0 0,0 7.5,18A2.5,2.5 0 0,0 10,15.5A2.5,2.5 0 0,0 7.5,13M16.5,13A2.5,2.5 0 0,0 14,15.5A2.5,2.5 0 0,0 16.5,18A2.5,2.5 0 0,0 19,15.5A2.5,2.5 0 0,0 16.5,13Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold institutional-blue text-center mb-3">Fase 3: Comparaci√≥n con modelo ITC</h3>
                        <p class="text-gray-700 text-center">Compara tu contrato con el modelo oficial del ITC y detecta limitaciones legales.</p>
                    </div>
                    
                    <div id="phase35Card" class="phase-card bg-white rounded-lg p-6 shadow-lg cursor-pointer relative opacity-50 pointer-events-none" onclick="goToPhase(3.5)">
                        <div id="phase35Check" class="absolute top-4 right-4 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold hidden">‚úì</div>
                        <div class="text-center mb-4">
                            <svg class="w-16 h-16 mx-auto institutional-blue" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M22.7,19L13.6,9.9C14.5,7.6 14,4.9 12.1,3C10.1,1 7.1,0.6 4.7,1.7L9,6L6,9L1.6,4.7C0.4,7.1 0.9,10.1 2.9,12.1C4.8,14 7.5,14.5 9.8,13.6L18.9,22.7C19.3,23.1 19.9,23.1 20.3,22.7L22.6,20.4C23.1,20 23.1,19.3 22.7,19Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold institutional-blue text-center mb-3">Fase 3.5: Ajuste del contrato</h3>
                        <p class="text-gray-700 text-center">Realiza correcciones y mejoras al contrato con base en el an√°lisis y comparaci√≥n.</p>
                    </div>
                </div>
                
                <!-- Fase 4 centrada -->
                <div class="max-w-md mx-auto mb-8">
                    <div class="phase-card bg-white rounded-lg p-6 shadow-lg">
                        <div class="text-center mb-4">
                            <svg class="w-16 h-16 mx-auto institutional-blue" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold institutional-blue text-center mb-3">Fase 4: Evaluaci√≥n con asesor virtual</h3>
                        <p class="text-gray-700 text-center">Presenta tu contrato final a un asesor legal virtual y recibe retroalimentaci√≥n simulada.</p>
                    </div>
                </div>
                
                <!-- Instrucci√≥n y Bot√≥n de Acci√≥n -->
                <div class="text-center mb-6">
                    <p class="text-gray-600 mb-4 text-lg">Selecciona el bot√≥n de iniciar para comenzar</p>
                    <button onclick="showScreen(3)" class="btn-primary text-xl">
                        Iniciar
                    </button>
                </div>
                
                <!-- Frase Institucional -->
                <p class="text-center text-gray-600 italic">
                    Cada fase te acerca a dominar la redacci√≥n legal internacional con IA.
                </p>
            </div>
        </div>
    </div>
    
    <!-- Pantalla 3: Fase 1 -->
    <div id="screen3" class="screen">
        <!-- Banner Superior -->
        <div class="institutional-blue-bg text-white py-6">
            <div class="container mx-auto px-4 text-center">
                <div class="flex items-center justify-center mb-4">
                    <svg class="w-12 h-12 soft-gold" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2M12 6.5L11.5 8.5L9.5 9L11.5 9.5L12 11.5L12.5 9.5L14.5 9L12.5 8.5L12 6.5Z"/>
                        <path d="M19 15L20.25 18.75L24 20L20.25 21.25L19 25L17.75 21.25L14 20L17.75 18.75L19 15Z"/>
                        <path d="M5 15L6.25 18.75L10 20L6.25 21.25L5 25L3.75 21.25L0 20L3.75 18.75L5 15Z"/>
                    </svg>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold">SIMULADOR JUR√çDICO DE CONTRATOS INTERNACIONALES</h1>
            </div>
        </div>
        <div class="golden-line"></div>
        
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold institutional-blue text-center mb-6">
                    Fase 1: Generaci√≥n del contrato
                </h2>
                
                <!-- Objetivo -->
                <div class="bg-white rounded-lg p-6 mb-6 shadow-lg">
                    <h3 class="text-xl font-bold institutional-blue mb-4">Objetivo:</h3>
                    <p class="text-gray-700 leading-relaxed">
                        Producir un ejemplo de contrato de compraventa internacional de bienes, alineado a un escenario de negocio espec√≠fico, que servir√° como insumo para las fases de an√°lisis y comparaci√≥n.
                    </p>
                </div>
                
                <!-- Actividades -->
                <div class="bg-white rounded-lg p-6 mb-6 shadow-lg">
                    <h3 class="text-xl font-bold institutional-blue mb-4">Actividades:</h3>
                    <ol class="list-decimal list-inside space-y-3 text-gray-700">
                        <li>Acceder a Tec GPT</li>
                        <li>Presentar el escenario de negocio definido</li>
                        <li>Solicitar que Tec GPT redacte el contrato con todos los t√©rminos clave</li>
                        <li>Guardar el contrato generado sin modificaciones en formato editable (Word o Google Docs)</li>
                    </ol>
                </div>
                
                <!-- Escenario de Negocio -->
                <div class="bg-white rounded-lg p-6 mb-6 shadow-lg">
                    <h3 class="text-xl font-bold institutional-blue mb-4">Escenario de negocio:</h3>
                    <div class="bg-gray-50 rounded-lg p-4 border-l-4 border-blue-500">
                        <p class="text-gray-700 leading-relaxed mb-4">
                            Eres el gerente de exportaciones de una empresa manufacturera en Alemania, negociando un contrato de ventas con un comprador ubicado en Jap√≥n. El comprador, un distribuidor mayorista, est√° comprando 1,000 unidades de partes de maquinaria industrial. El contrato debe incluir los siguientes t√©rminos clave:
                        </p>
                        <ul class="text-gray-700 space-y-2 list-disc list-inside">
                            <li><strong>Precio por unidad:</strong> ‚Ç¨1,500. Valor total: ‚Ç¨1,500,000.</li>
                            <li><strong>Incoterms 2020:</strong> CIF Puerto de Yokohama, Jap√≥n.</li>
                            <li><strong>M√©todo de pago:</strong> Carta de Cr√©dito irrevocable emitida por un banco japon√©s.</li>
                            <li><strong>Plazo de entrega:</strong> 45 d√≠as desde la firma.</li>
                            <li><strong>Certificaci√≥n:</strong> ISO 9001.</li>
                            <li><strong>Inspecci√≥n:</strong> 7 d√≠as tras la entrega para rechazar bienes no conformes.</li>
                            <li><strong>Penalizaci√≥n por retraso:</strong> 0.5% diario (m√°ximo 10% del valor del contrato).</li>
                            <li><strong>Fuerza mayor:</strong> desastres naturales, restricciones gubernamentales, perturbaciones en la cadena de suministro.</li>
                            <li><strong>Resoluci√≥n de disputas:</strong> arbitraje bajo Reglas UNCITRAL, sede en Suiza, audiencias en Dub√°i, idioma ingl√©s.</li>
                            <li><strong>Marco legal:</strong> CISG + Principios UNIDROIT; en √∫ltima instancia, ley inglesa.</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Bot√≥n de Acci√≥n Principal -->
                <div class="text-center mb-6">
                    <button onclick="window.open('https://tecgpt.tec.mx/', '_blank')" class="btn-secondary text-xl">
                        Ir a Tec GPT para generar contrato
                    </button>
                </div>
                
                <!-- Entregable Esperado -->
                <div class="bg-white rounded-lg p-6 mb-8 shadow-lg">
                    <h3 class="text-xl font-bold institutional-blue mb-4">Entregable esperado:</h3>
                    <div class="bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500">
                        <h4 class="font-bold text-blue-800 mb-2">Contrato inicial generado por IA</h4>
                        <p class="text-blue-700">
                            Documento redactado por la herramienta de IA con base en el escenario de negocio proporcionado, sin modificaciones.
                        </p>
                    </div>
                </div>
                
                <!-- Bot√≥n Completar Fase -->
                <div class="text-center">
                    <button onclick="completePhase1()" class="btn-primary text-xl">
                        Completar Fase 1
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Pantalla 4: Fase 2 -->
    <div id="screen4" class="screen">
        <!-- Banner Superior -->
        <div class="institutional-blue-bg text-white py-6">
            <div class="container mx-auto px-4 text-center">
                <div class="flex items-center justify-center mb-4">
                    <svg class="w-12 h-12 soft-gold" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2M12 6.5L11.5 8.5L9.5 9L11.5 9.5L12 11.5L12.5 9.5L14.5 9L12.5 8.5L12 6.5Z"/>
                        <path d="M19 15L20.25 18.75L24 20L20.25 21.25L19 25L17.75 21.25L14 20L17.75 18.75L19 15Z"/>
                        <path d="M5 15L6.25 18.75L10 20L6.25 21.25L5 25L3.75 21.25L0 20L3.75 18.75L5 15Z"/>
                    </svg>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold">SIMULADOR JUR√çDICO DE CONTRATOS INTERNACIONALES</h1>
            </div>
        </div>
        <div class="golden-line"></div>
        
        <div class="container mx-auto px-4 py-8">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold institutional-blue text-center mb-6">
                    Fase 2: An√°lisis cr√≠tico
                </h2>
                
                <!-- Objetivo -->
                <div class="bg-white rounded-lg p-6 mb-6 shadow-lg">
                    <h3 class="text-xl font-bold institutional-blue mb-4">Objetivo:</h3>
                    <p class="text-gray-700 leading-relaxed">
                        Identificar omisiones, errores o cl√°usulas poco claras en el contrato generado por IA y evaluar su precisi√≥n y efectividad general.
                    </p>
                </div>
                
                <!-- Secci√≥n de Subida de Archivo -->
                <div class="bg-white rounded-lg p-6 mb-6 shadow-lg">
                    <h3 class="text-xl font-bold institutional-blue mb-4">Subir contrato generado:</h3>
                    
                    <!-- Subir archivo -->
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                        <svg class="w-12 h-12 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                        </svg>
                        <input type="file" id="contractFile" accept=".doc,.docx,.pdf" class="hidden" onchange="handleFileUpload(event)">
                        <button onclick="document.getElementById('contractFile').click()" class="btn-secondary mb-2">
                            üìÅ Seleccionar archivo
                        </button>
                        <p class="text-gray-600 text-sm">Formatos aceptados: Word (.doc, .docx) y PDF</p>
                        <div id="fileName" class="mt-2 text-green-600 font-medium hidden"></div>
                    </div>
                </div>
                
                <!-- Bot√≥n de An√°lisis -->
                <div class="text-center mb-6" id="analyzeSection" style="display: none;">
                    <button onclick="analyzeContract()" class="btn-primary text-xl">
                        Analizar Contrato
                    </button>
                </div>
                
                <!-- Resultados del An√°lisis -->
                <div id="analysisResults" class="bg-white rounded-lg p-6 mb-6 shadow-lg" style="display: none;">
                    <h3 class="text-xl font-bold institutional-blue mb-4">An√°lisis del Contrato:</h3>
                    
                    <!-- Elementos B√°sicos -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-3">Cinco elementos b√°sicos del contrato:</h4>
                        <div class="space-y-2" id="basicElements">
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Identificaci√≥n de las partes</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-red-500 text-white text-sm flex items-center justify-center">‚úó</span>
                                <span>Descripci√≥n del producto <span class="text-red-600 text-sm">(Falta especificaci√≥n t√©cnica detallada)</span></span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Precio</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-yellow-500 text-white text-sm flex items-center justify-center">!</span>
                                <span>INCOTERM utilizado <span class="text-yellow-600 text-sm">(Puede ser m√°s espec√≠fico)</span></span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Plazo de entrega</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cl√°usulas Legales y Comerciales -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-3">Cl√°usulas legales y comerciales:</h4>
                        <div class="space-y-2" id="legalClauses">
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>M√©todo de pago</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Est√°ndares de calidad</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Plazos de inspecci√≥n y rechazo</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Penalizaci√≥n por entrega tard√≠a</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-yellow-500 text-white text-sm flex items-center justify-center">!</span>
                                <span>Cl√°usula de fuerza mayor <span class="text-yellow-600 text-sm">(Podr√≠a ser m√°s espec√≠fica)</span></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Resoluci√≥n de Disputas -->
                    <div class="mb-6">
                        <h4 class="text-lg font-bold text-gray-800 mb-3">Elementos de resoluci√≥n de disputas:</h4>
                        <div class="space-y-2" id="disputeResolution">
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Marco de arbitraje</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Ley aplicable</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Lugar de la audiencia</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Idioma</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <span class="w-6 h-6 rounded-full bg-green-500 text-white text-sm flex items-center justify-center">‚úì</span>
                                <span>Marco jur√≠dico</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Retroalimentaci√≥n General -->
                    <div class="bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500">
                        <h4 class="font-bold text-blue-800 mb-2">Retroalimentaci√≥n General:</h4>
                        <p class="text-blue-700">
                            El contrato presenta una estructura s√≥lida con la mayor√≠a de elementos clave incluidos. Se recomienda mejorar la especificaci√≥n t√©cnica del producto y ser m√°s espec√≠fico en algunos t√©rminos INCOTERM y cl√°usulas de fuerza mayor.
                        </p>
                    </div>
                </div>
                
                <!-- Preguntas Gu√≠a -->
                <div id="guidedQuestions" class="bg-white rounded-lg p-6 mb-6 shadow-lg" style="display: none;">
                    <h3 class="text-xl font-bold institutional-blue mb-4">Preguntas Gu√≠a para Reflexi√≥n:</h3>
                    
                    <div class="space-y-6">
                        <div>
                            <h4 class="font-bold text-gray-800 mb-3">Precisi√≥n:</h4>
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-gray-700 mb-2">¬øEl contrato generado por la IA es correcto? ¬øCumple con los elementos clave esperados?</label>
                                    <textarea class="w-full p-3 border border-gray-300 rounded-lg" rows="3" placeholder="Escribe tu an√°lisis aqu√≠..."></textarea>
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2">¬øHay errores, omisiones o cl√°usulas poco claras?</label>
                                    <textarea class="w-full p-3 border border-gray-300 rounded-lg" rows="3" placeholder="Identifica los problemas encontrados..."></textarea>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h4 class="font-bold text-gray-800 mb-3">Efectividad:</h4>
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-gray-700 mb-2">¬øEl contrato ser√≠a √∫til y v√°lido en un contexto real? ¬øProtege adecuadamente a las partes?</label>
                                    <textarea class="w-full p-3 border border-gray-300 rounded-lg" rows="3" placeholder="Eval√∫a la utilidad pr√°ctica del contrato..."></textarea>
                                </div>
                                <div>
                                    <label class="block text-gray-700 mb-2">¬øRefleja correctamente el marco legal aplicable? ¬øEl lenguaje es profesional y aceptable?</label>
                                    <textarea class="w-full p-3 border border-gray-300 rounded-lg" rows="3" placeholder="Analiza el marco legal y el lenguaje utilizado..."></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Instrucciones para el An√°lisis Final -->
                <div id="finalAnalysis" class="bg-white rounded-lg p-6 mb-8 shadow-lg" style="display: none;">
                    <h3 class="text-xl font-bold institutional-blue mb-4">An√°lisis Final:</h3>
                    <div class="bg-yellow-50 rounded-lg p-4 border-l-4 border-yellow-500 mb-4">
                        <h4 class="font-bold text-yellow-800 mb-2">Instrucciones:</h4>
                        <p class="text-yellow-700">
                            Elabora un an√°lisis escrito de una cuartilla con los hallazgos y conclusiones bas√°ndote en:
                        </p>
                        <ul class="list-disc list-inside text-yellow-700 mt-2 space-y-1">
                            <li>Los resultados del an√°lisis autom√°tico</li>
                            <li>Tus respuestas a las preguntas gu√≠a</li>
                            <li>Tu evaluaci√≥n personal del contrato</li>
                        </ul>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 mb-2 font-medium">Redacta tu an√°lisis cr√≠tico (una cuartilla):</label>
                        <textarea class="w-full p-4 border border-gray-300 rounded-lg" rows="12" placeholder="Escribe aqu√≠ tu an√°lisis cr√≠tico del contrato, incluyendo hallazgos, conclusiones y recomendaciones..."></textarea>
                    </div>
                </div>
                
                <!-- Entregable Esperado -->
                <div class="bg-white rounded-lg p-6 mb-8 shadow-lg">
                    <h3 class="text-xl font-bold institutional-blue mb-4">Entregable esperado:</h3>
                    <div class="bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500">
                        <h4 class="font-bold text-blue-800 mb-2">An√°lisis cr√≠tico del contrato</h4>
                        <p class="text-blue-700">
                            Documento de una cuartilla que eval√∫a la precisi√≥n y efectividad del contrato inicial, identificando errores, omisiones o cl√°usulas poco claras.
                        </p>
                    </div>
                </div>
                
                <!-- Botones de Acci√≥n -->
                <div class="text-center space-x-4">
                    <button onclick="downloadAnalysis()" class="btn-secondary text-xl">
                        üìÑ Descargar An√°lisis en Word
                    </button>
                    <button onclick="completePhase2()" class="btn-primary text-xl">
                        Completar Fase 2
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 1;
        let completedPhases = [];
        
        function showScreen(screenNumber) {
            // Ocultar todas las pantallas
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Mostrar la pantalla seleccionada
            document.getElementById(`screen${screenNumber}`).classList.add('active');
            currentScreen = screenNumber;
            
            // Actualizar barra de progreso si estamos en la pantalla 2
            if (screenNumber === 2) {
                updateProgressBar();
            }
        }
        
        function completePhase1() {
            if (!completedPhases.includes(1)) {
                completedPhases.push(1);
            }
            showScreen(2);
            updatePhaseCards();
        }
        
        function completePhase2() {
            if (!completedPhases.includes(2)) {
                completedPhases.push(2);
            }
            showScreen(2);
            updatePhaseCards();
        }
        
        function goToPhase(phaseNumber) {
            if (phaseNumber === 1) {
                showScreen(3);
            } else if (phaseNumber === 2 && completedPhases.includes(1)) {
                showScreen(4);
            } else if (phaseNumber === 3 && completedPhases.includes(2)) {
                // Aqu√≠ ir√≠a la pantalla de la fase 3
                alert('Fase 3 pr√≥ximamente disponible');
            } else if (phaseNumber === 3.5 && completedPhases.includes(3)) {
                // Aqu√≠ ir√≠a la pantalla de la fase 3.5
                alert('Fase 3.5 pr√≥ximamente disponible');
            } else if (phaseNumber === 4 && completedPhases.includes(3.5)) {
                // Aqu√≠ ir√≠a la pantalla de la fase 4
                alert('Fase 4 pr√≥ximamente disponible');
            }
        }
        
        function updateProgressBar() {
            const phases = [1, 2, 3, 3.5, 4];
            const progressIds = ['progress1', 'progress2', 'progress3', 'progress35', 'progress4'];
            
            progressIds.forEach((id, index) => {
                const element = document.getElementById(id);
                const phaseNumber = phases[index];
                
                if (completedPhases.includes(phaseNumber)) {
                    element.classList.remove('pending');
                    element.classList.add('completed');
                    element.innerHTML = '‚úì';
                } else {
                    element.classList.remove('completed');
                    element.classList.add('pending');
                    element.innerHTML = `F${phaseNumber === 3.5 ? '3.5' : phaseNumber}`;
                }
            });
        }
        
        function updatePhaseCards() {
            // Actualizar tarjetas de fases
            const phaseCards = [
                { id: 'phase1Card', checkId: 'phase1Check', phase: 1 },
                { id: 'phase2Card', checkId: 'phase2Check', phase: 2 },
                { id: 'phase3Card', checkId: 'phase3Check', phase: 3 },
                { id: 'phase35Card', checkId: 'phase35Check', phase: 3.5 },
                { id: 'phase4Card', checkId: 'phase4Check', phase: 4 }
            ];
            
            phaseCards.forEach((card, index) => {
                const cardElement = document.getElementById(card.id);
                const checkElement = document.getElementById(card.checkId);
                
                if (completedPhases.includes(card.phase)) {
                    // Fase completada
                    cardElement.classList.remove('opacity-50', 'pointer-events-none');
                    cardElement.classList.add('bg-gradient-to-br', 'from-yellow-50', 'to-yellow-100');
                    checkElement.classList.remove('hidden');
                } else if (index === 0 || completedPhases.includes(phaseCards[index - 1].phase)) {
                    // Fase disponible
                    cardElement.classList.remove('opacity-50', 'pointer-events-none');
                    cardElement.classList.remove('bg-gradient-to-br', 'from-yellow-50', 'to-yellow-100');
                    checkElement.classList.add('hidden');
                } else {
                    // Fase bloqueada
                    cardElement.classList.add('opacity-50', 'pointer-events-none');
                    cardElement.classList.remove('bg-gradient-to-br', 'from-yellow-50', 'to-yellow-100');
                    checkElement.classList.add('hidden');
                }
            });
            
            updateProgressBar();
        }
        
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const fileName = document.getElementById('fileName');
                fileName.textContent = `Archivo seleccionado: ${file.name}`;
                fileName.classList.remove('hidden');
                
                // Mostrar bot√≥n de an√°lisis
                document.getElementById('analyzeSection').style.display = 'block';
            }
        }
        

        
        function downloadAnalysis() {
            // Solicitar nombre del estudiante
            const studentName = prompt('Ingresa tu nombre completo para generar el documento:');
            if (!studentName || studentName.trim() === '') {
                alert('Necesitas ingresar tu nombre para generar el documento.');
                return;
            }
            
            try {
                // Recopilar todas las respuestas de los textareas
                const textareas = document.querySelectorAll('#guidedQuestions textarea, #finalAnalysis textarea');
                const currentDate = new Date().toLocaleDateString('es-ES');
                
                // Crear contenido del documento como texto plano
                let documentContent = `SIMULADOR JUR√çDICO DE CONTRATOS INTERNACIONALES
AN√ÅLISIS CR√çTICO DEL CONTRATO - FASE 2

Estudiante: ${studentName.trim()}
Fecha: ${currentDate}

================================================================================

PREGUNTAS GU√çA PARA REFLEXI√ìN

1. PRECISI√ìN DEL CONTRATO

Pregunta: ¬øEl contrato generado por la IA es correcto? ¬øCumple con los elementos clave esperados?

Respuesta:
${textareas[0] ? (textareas[0].value.trim() || '[Pendiente de completar]') : '[Pendiente de completar]'}

--------------------------------------------------------------------------------

Pregunta: ¬øHay errores, omisiones o cl√°usulas poco claras?

Respuesta:
${textareas[1] ? (textareas[1].value.trim() || '[Pendiente de completar]') : '[Pendiente de completar]'}

================================================================================

2. EFECTIVIDAD DEL CONTRATO

Pregunta: ¬øEl contrato ser√≠a √∫til y v√°lido en un contexto real? ¬øProtege adecuadamente a las partes?

Respuesta:
${textareas[2] ? (textareas[2].value.trim() || '[Pendiente de completar]') : '[Pendiente de completar]'}

--------------------------------------------------------------------------------

Pregunta: ¬øRefleja correctamente el marco legal aplicable? ¬øEl lenguaje es profesional y aceptable?

Respuesta:
${textareas[3] ? (textareas[3].value.trim() || '[Pendiente de completar]') : '[Pendiente de completar]'}

================================================================================

AN√ÅLISIS CR√çTICO FINAL (Una Cuartilla)

Instrucciones: Elabora un an√°lisis escrito con tus hallazgos y conclusiones bas√°ndote en los resultados del an√°lisis autom√°tico, tus respuestas a las preguntas gu√≠a y tu evaluaci√≥n personal del contrato.

An√°lisis:
${textareas[4] ? (textareas[4].value.trim() || '[Pendiente de completar - Espacio para una cuartilla de an√°lisis cr√≠tico]') : '[Pendiente de completar - Espacio para una cuartilla de an√°lisis cr√≠tico]'}

================================================================================

Documento generado autom√°ticamente por el Simulador Jur√≠dico de Contratos Internacionales
Fecha de generaci√≥n: ${currentDate}
`;

                // Crear y descargar el archivo como .txt
                const blob = new Blob([documentContent], { type: 'text/plain;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `Analisis_Critico_${studentName.replace(/\s+/g, '_')}_${currentDate.replace(/\//g, '-')}.docx`;
                
                // Forzar la descarga
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                // Limpiar la URL
                setTimeout(() => URL.revokeObjectURL(url), 100);
                
                alert(`‚úÖ ¬°Descarga exitosa!\n\nSe ha descargado: "Analisis_Critico_${studentName.replace(/\s+/g, '_')}_${currentDate.replace(/\//g, '-')}.txt"\n\nüìù El archivo contiene todas tus respuestas y est√° listo para entregar.`);
                
            } catch (error) {
                console.error('Error en descarga:', error);
                // M√©todo alternativo si falla el primero
                fallbackDownload(studentName);
            }
        }
        
        function fallbackDownload(studentName) {
            try {
                const textareas = document.querySelectorAll('#guidedQuestions textarea, #finalAnalysis textarea');
                const currentDate = new Date().toLocaleDateString('es-ES');
                
                // Crear contenido m√°s simple
                let content = `AN√ÅLISIS CR√çTICO DEL CONTRATO\n\n`;
                content += `Estudiante: ${studentName}\n`;
                content += `Fecha: ${currentDate}\n\n`;
                content += `RESPUESTAS:\n\n`;
                
                const questions = [
                    '1. ¬øEl contrato generado por la IA es correcto?',
                    '2. ¬øHay errores, omisiones o cl√°usulas poco claras?',
                    '3. ¬øEl contrato ser√≠a √∫til y v√°lido en un contexto real?',
                    '4. ¬øRefleja correctamente el marco legal aplicable?',
                    '5. AN√ÅLISIS CR√çTICO FINAL:'
                ];
                
                textareas.forEach((textarea, index) => {
                    content += `${questions[index]}\n`;
                    content += `${textarea.value.trim() || '[Sin respuesta]'}\n\n`;
                });
                
                // Usar data URI como alternativa
                const dataUri = 'data:text/plain;charset=utf-8,' + encodeURIComponent(content);
                const link = document.createElement('a');
                link.href = dataUri;
                link.download = `Analisis_${studentName.replace(/\s+/g, '_')}.txt`;
                link.click();
                
                alert('‚úÖ Descarga completada usando m√©todo alternativo.');
                
            } catch (fallbackError) {
                console.error('Error en m√©todo alternativo:', fallbackError);
                // √öltimo recurso: mostrar el contenido para copiar
                showContentForCopy(studentName);
            }
        }
        
        function showContentForCopy(studentName) {
            const textareas = document.querySelectorAll('#guidedQuestions textarea, #finalAnalysis textarea');
            const currentDate = new Date().toLocaleDateString('es-ES');
            
            let content = `AN√ÅLISIS CR√çTICO DEL CONTRATO\n\nEstudiante: ${studentName}\nFecha: ${currentDate}\n\n`;
            
            const questions = [
                '1. ¬øEl contrato generado por la IA es correcto?',
                '2. ¬øHay errores, omisiones o cl√°usulas poco claras?',
                '3. ¬øEl contrato ser√≠a √∫til y v√°lido en un contexto real?',
                '4. ¬øRefleja correctamente el marco legal aplicable?',
                '5. AN√ÅLISIS CR√çTICO FINAL:'
            ];
            
            textareas.forEach((textarea, index) => {
                content += `${questions[index]}\n${textarea.value.trim() || '[Sin respuesta]'}\n\n`;
            });
            
            // Crear ventana emergente con el contenido
            const newWindow = window.open('', '_blank');
            newWindow.document.write(`
                <html>
                <head><title>An√°lisis Cr√≠tico - ${studentName}</title></head>
                <body style="font-family: Arial, sans-serif; padding: 20px;">
                    <h2>Tu an√°lisis est√° listo</h2>
                    <p>Copia todo el texto de abajo y p√©galo en un documento de Word:</p>
                    <textarea style="width: 100%; height: 400px; font-family: monospace;">${content}</textarea>
                    <br><br>
                    <button onclick="navigator.clipboard.writeText(document.querySelector('textarea').value).then(() => alert('¬°Copiado al portapapeles!'))">Copiar Todo</button>
                </body>
                </html>
            `);
        }
        
        function gatherAnalysisContent(studentName) {
            // Obtener las respuestas de los textareas (pueden estar vac√≠as)
            const textareas = document.querySelectorAll('#guidedQuestions textarea, #finalAnalysis textarea');
            const responses = Array.from(textareas).map(textarea => {
                const value = textarea.value.trim();
                return value || '[Espacio para completar tu respuesta]';
            });
            
            return {
                studentName: studentName,
                date: new Date().toLocaleDateString('es-ES', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                }),
                responses: responses
            };
        }
        
        function createAnalysisDocument(content) {
            return `
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An√°lisis Cr√≠tico del Contrato - ${content.studentName}</title>
    <style>
        body { 
            font-family: 'Times New Roman', serif; 
            margin: 0;
            padding: 40px; 
            line-height: 1.8; 
            color: #000;
            background: white;
        }
        h1 { 
            color: #002B5B; 
            text-align: center; 
            font-size: 24px;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        h2 { 
            color: #002B5B; 
            font-size: 18px;
            margin-top: 40px;
            margin-bottom: 20px;
            border-bottom: 2px solid #F4C95D;
            padding-bottom: 5px;
        }
        .header-info { 
            text-align: center; 
            margin-bottom: 40px; 
            padding: 20px;
            border: 2px solid #002B5B;
            background-color: #f8f9fa;
        }
        .header-info p {
            margin: 5px 0;
            font-size: 14px;
        }
        .section { 
            margin-bottom: 40px; 
            page-break-inside: avoid;
        }
        .question {
            font-weight: bold;
            color: #002B5B;
            margin-bottom: 15px;
            font-size: 16px;
            background-color: #f0f8ff;
            padding: 10px;
            border-left: 4px solid #F4C95D;
        }
        .response { 
            background-color: white;
            padding: 20px; 
            border: 1px solid #ddd;
            margin: 15px 0;
            min-height: 100px;
            font-size: 14px;
            line-height: 2.0;
        }
        .cuartilla-section {
            margin-top: 40px;
            page-break-before: always;
        }
        .cuartilla-response {
            min-height: 400px;
            border: 1px solid #ddd;
            padding: 30px;
            background-color: white;
            line-height: 2.2;
        }
        @media print {
            body { 
                margin: 0; 
                padding: 20px;
            }
            .section {
                page-break-inside: avoid;
            }
            .cuartilla-section {
                page-break-before: always;
            }
        }
        @page {
            margin: 2cm;
            size: A4;
        }
    </style>
</head>
<body>
    <div class="header-info">
        <p><strong>SIMULADOR JUR√çDICO DE CONTRATOS INTERNACIONALES</strong></p>
        <p><strong>Estudiante:</strong> ${content.studentName}</p>
        <p><strong>Fecha:</strong> ${content.date}</p>
        <p><strong>Fase 2:</strong> An√°lisis Cr√≠tico del Contrato</p>
    </div>
    
    <h1>An√°lisis Cr√≠tico del Contrato Internacional</h1>
    
    <div class="section">
        <h2>PREGUNTAS GU√çA PARA REFLEXI√ìN</h2>
        
        <h3>Precisi√≥n del Contrato</h3>
        
        <div class="question">1. ¬øEl contrato generado por la IA es correcto? ¬øCumple con los elementos clave esperados?</div>
        <div class="response">${content.responses[0]}</div>
        
        <div class="question">2. ¬øHay errores, omisiones o cl√°usulas poco claras?</div>
        <div class="response">${content.responses[1]}</div>
        
        <h3>Efectividad del Contrato</h3>
        
        <div class="question">3. ¬øEl contrato ser√≠a √∫til y v√°lido en un contexto real? ¬øProtege adecuadamente a las partes?</div>
        <div class="response">${content.responses[2]}</div>
        
        <div class="question">4. ¬øRefleja correctamente el marco legal aplicable? ¬øEl lenguaje es profesional y aceptable?</div>
        <div class="response">${content.responses[3]}</div>
    </div>
    
    <div class="section cuartilla-section">
        <h2>AN√ÅLISIS CR√çTICO FINAL (Una Cuartilla)</h2>
        <div class="question">Elabora un an√°lisis escrito con tus hallazgos y conclusiones bas√°ndote en los resultados del an√°lisis autom√°tico, tus respuestas a las preguntas gu√≠a y tu evaluaci√≥n personal del contrato:</div>
        <div class="cuartilla-response">${content.responses[4]}</div>
    </div>
    
    <div style="margin-top: 60px; text-align: center; color: #666; font-size: 12px; border-top: 1px solid #ddd; padding-top: 20px;">
        <p><strong>Simulador Jur√≠dico de Contratos Internacionales</strong></p>
        <p>Documento generado el ${content.date}</p>
        <p><em>Para convertir a PDF: Ctrl+P ‚Üí "Guardar como PDF"</em></p>
    </div>
</body>
</html>`;
        }
        
        function analyzeContract() {
            // Simular an√°lisis del contrato
            document.getElementById('analysisResults').style.display = 'block';
            document.getElementById('guidedQuestions').style.display = 'block';
            document.getElementById('finalAnalysis').style.display = 'block';
            
            // Scroll suave hacia los resultados
            document.getElementById('analysisResults').scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
        }
        
        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            showScreen(1);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96f22bcc50a46c6e',t:'MTc1NTE5MjUzMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
